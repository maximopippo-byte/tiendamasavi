{% extends "layout.html" %}
{% load static %}

{% block contenedor %}

<section class="bg-light">
    <div class="container pb-5">
        <div class="row">

            <!-- IMAGEN -->
            <div class="col-lg-5 mt-5">
                <div class="card mb-3">
                    {% if producto.imagen %}
                        <img class="card-img img-fluid" src="{{ producto.imagen.url }}" alt="{{ producto.producto }}">
                    {% else %}
                        <img class="card-img img-fluid" src="{% static 'img/placeholder.jpg' %}" alt="Sin imagen">
                    {% endif %}
                </div>
            </div>

            <!-- INFO -->
            <div class="col-lg-7 mt-5">
                <div class="card">
                    <div class="card-body">
                        <h1 class="h2">{{ producto.producto }}</h1>
                        <p class="h3 py-2">${{ producto.precio }}</p>

                        <h6>Descripci√≥n:</h6>
                        <p>{{ producto.descripcion }}</p>

                        <div class="row pb-3">
                            <div class="col d-grid">
                                <a href="#" class="btn btn-success btn-lg">Comprar</a>
                            </div>
                            <div class="col d-grid">
                                <a href="#" class="btn btn-success btn-lg">Agregar al carrito</a>
                            </div>
                        </div>

                    </div>
                </div>
            </div>

        </div>
    </div>
</section>

<section class="py-5">
    <div class="container">
        <div class="row text-left pb-3">
            <h4>Productos relacionados</h4>
        </div>

        <div id="carousel-related-product">
            {% for p in productos_relacionados %}
                <div class="p-2 pb-3">
                    <div class="product-wap card rounded-0">
                        <div class="card rounded-0">
                            {% if p.imagen %}
                                <img class="card-img rounded-0 img-fluid" src="{{ p.imagen.url }}">
                            {% else %}
                                <img class="card-img rounded-0 img-fluid" src="{% static 'img/placeholder.jpg' %}">
                            {% endif %}
                        </div>
                        <div class="card-body text-center">
                            <a href="{% url 'producto_detalle' p.id %}" class="h5 text-decoration-none">{{ p.producto }}</a>
                            <p class="text-center mb-0">${{ p.precio }}</p>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
    </div>
</section>

<!-- JS -->
<script src="{% static 'js/jquery.min.js' %}"></script>
<script src="{% static 'js/bootstrap.bundle.min.js' %}"></script>
<script src="{% static 'js/slick.min.js' %}"></script>

<script>
    $('#carousel-related-product').slick({
        infinite: true,
        arrows: false,
        slidesToShow: 4,
        slidesToScroll: 3,
        dots: true,
        responsive: [
            { breakpoint: 1024, settings: { slidesToShow: 3, slidesToScroll: 3 }},
            { breakpoint: 600,  settings: { slidesToShow: 2, slidesToScroll: 2 }},
            { breakpoint: 480,  settings: { slidesToShow: 1, slidesToScroll: 1 }},
        ]
    });
</script>

{% endblock %}